import { AbsoluteFill } from "remotion";
import { TransitionSeries, linearTiming } from "@remotion/transitions";
import { fade } from "@remotion/transitions/fade";
import { slide } from "@remotion/transitions/slide";
import { IntroScene } from "../components/scenes/IntroScene";
import { WebRevealScene } from "../components/scenes/WebRevealScene";
import { FeaturesScene } from "../components/scenes/FeaturesScene";
import { GalleryScene } from "../components/scenes/GalleryScene";
import { CTAScene } from "../components/scenes/CTAScene";

// Video horizontal 16:9 para YouTube/Web (1920x1080)
export const DragonDeMaderaPromo: React.FC = () => {
  const SCENE_DURATION = 105; // 3.5 segundos por escena
  const TRANSITION_DURATION = 15; // 0.5 segundos de transición

  return (
    <AbsoluteFill>
      <TransitionSeries>
        {/* Escena 1: Intro con logo y tagline */}
        <TransitionSeries.Sequence durationInFrames={SCENE_DURATION}>
          <IntroScene />
        </TransitionSeries.Sequence>

        <TransitionSeries.Transition
          presentation={fade()}
          timing={linearTiming({ durationInFrames: TRANSITION_DURATION })}
        />

        {/* Escena 2: Nueva Web - Reveal (0.5s pausa + 5s scroll + 0.5s final) */}
        <TransitionSeries.Sequence durationInFrames={180}>
          <WebRevealScene isVertical={false} />
        </TransitionSeries.Sequence>

        <TransitionSeries.Transition
          presentation={slide({ direction: "from-right" })}
          timing={linearTiming({ durationInFrames: TRANSITION_DURATION })}
        />

        {/* Escena 3: Features / Beneficios */}
        <TransitionSeries.Sequence durationInFrames={SCENE_DURATION}>
          <FeaturesScene isVertical={false} />
        </TransitionSeries.Sequence>

        <TransitionSeries.Transition
          presentation={slide({ direction: "from-bottom" })}
          timing={linearTiming({ durationInFrames: TRANSITION_DURATION })}
        />

        {/* Escena 4: Galería de la comunidad */}
        <TransitionSeries.Sequence durationInFrames={SCENE_DURATION}>
          <GalleryScene isVertical={false} />
        </TransitionSeries.Sequence>

        <TransitionSeries.Transition
          presentation={fade()}
          timing={linearTiming({ durationInFrames: TRANSITION_DURATION })}
        />

        {/* Escena 5: Call to Action */}
        <TransitionSeries.Sequence durationInFrames={SCENE_DURATION}>
          <CTAScene isVertical={false} />
        </TransitionSeries.Sequence>
      </TransitionSeries>
    </AbsoluteFill>
  );
};
